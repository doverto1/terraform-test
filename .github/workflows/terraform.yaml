name: Terraform

on:
  push:
    branches: [ "main" ]

jobs:
    Terraform:
        runs-on: ubuntu-latest
        
        steps:
          - name: Setup Terraform
            uses: hashicorp/setup-terraform@v2
            with:
              terraform_version: 1.6.0
  
          - name: Terraform Init
            run: terraform init
    
          - name: Terraform Format
            run: terraform fmt -check

          - name: Terraform Apply
            run: terraform apply -auto-approve -input=false